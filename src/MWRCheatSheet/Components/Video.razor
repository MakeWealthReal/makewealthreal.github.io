@inherits Components.ComponentBase

@if(this.YouTube != null)
{
    <iframe @onload="OnIframeLoaded"
            src="@($"{Constants.YouTubeEmbedLinkPrefix}{YouTube}")"
            width="560"
            height="315"
            title="YouTube video player"
            frameborder="0"
            allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" allowfullscreen>
    </iframe>
}

@if (!_iframeLoaded)
{
    <MudSkeleton SkeletonType="SkeletonType.Rectangle" Width="100%" Height="200px" />
}
@code {
    private bool _iframeLoaded;

    [Parameter]
    public string? YouTube { get; set; }

    private void OnIframeLoaded(ProgressEventArgs e)
    {
        _iframeLoaded = true;
    }
}
